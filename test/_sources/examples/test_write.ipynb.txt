{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "fcca5058",
   "metadata": {},
   "source": [
    "# Result writing example"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "b583970e",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "0.1.4.38+dirty\n",
      "~/git/resummino_test/\n"
     ]
    }
   ],
   "source": [
    "import hepi\n",
    "print(hepi.__version__)\n",
    "import smpl\n",
    "import numpy as np\n",
    "import hepi.resummino as rs\n",
    "import hepi.util as util\n",
    "import matplotlib.pyplot as plt\n",
    "rs.set_path(\"~/git/resummino_test\")\n",
    "print (rs.get_path())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "7d048757",
   "metadata": {},
   "outputs": [],
   "source": [
    "params = [\n",
    "    \"mastercode_with_gm2.in\",\n",
    "]\n",
    "pss = [    \n",
    "      (1000011,-1000011),\n",
    "     ]"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "2dd526dd",
   "metadata": {},
   "source": [
    "## Print"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "ed7216a4",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Running: 8 jobs\n",
      "RESTART None None None ./output/1ae08df7442cd61d93fad544813d2e60e103232bd2bb6e421f19672f8a944a32.out\n",
      "RESTART None None None ./output/ecabbd21c33198dead14d14469f2fd5e7eb46a473426243de093d39b474e4f75.out\n",
      "{'LO': array([0.19827892+/-0.00028789131, 0.01027317+/-1.3097878e-05,\n",
      "       0.0017420349+/-2.0549253e-06, 0.00045177946+/-5.0512563e-07,\n",
      "       0.00014600929+/-1.5697746e-07, 5.3950657e-05+/-5.6279928e-08,\n",
      "       2.1797802e-05+/-2.2197746e-08, 9.3808373e-06+/-9.3677641e-09],\n",
      "      dtype=object), 'NLO': array([0.26266219+/-0.00035483454, 0.012685717+/-1.4738104e-05,\n",
      "       0.0020719289+/-2.2534652e-06, 0.00052389967+/-5.389595e-07,\n",
      "       0.00016619981+/-1.6377336e-07, 6.0600809e-05+/-5.7603335e-08,\n",
      "       2.427351e-05+/-2.2387002e-08, 1.0401314e-05+/-9.3348503e-09],\n",
      "      dtype=object), 'NLO_PLUS_NLL': array([0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0,\n",
      "       0.0+/-0], dtype=object), 'K_LO': array([1.0+/-0, 1.0+/-0, 1.0+/-2.336179591111431e-19, 1.0+/-0,\n",
      "       1.0+/-1.4277016816777176e-19, 1.0+/-0, 1.0+/-0, 1.0+/-0],\n",
      "      dtype=object), 'K_NLO': array([1.3247106147239456+/-0.0026271840746797293,\n",
      "       1.2348395870018698+/-0.002129971888538812,\n",
      "       1.1893727846669433+/-0.0019083394068543829,\n",
      "       1.1596358763189456+/-0.0017618913585157765,\n",
      "       1.1382824339464974+/-0.0016600577186290635,\n",
      "       1.1232635962153343+/-0.0015852483215957802,\n",
      "       1.1135760385381976+/-0.001529955842518204,\n",
      "       1.1087831147012859+/-0.0014886891411263526], dtype=object), 'K_NLO_PLUS_NLL': array([0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0,\n",
      "       0.0+/-0], dtype=object), 'NLO_PLUS_NLL_OVER_NLO': array([0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0, 0.0+/-0,\n",
      "       0.0+/-0], dtype=object), 'VNLO': array([0.01041012+/-8.2978566e-05, 0.00047278892+/-3.391944e-06,\n",
      "       7.4065143e-05+/-4.9588442e-07, 1.8149926e-05+/-1.1663387e-07,\n",
      "       5.6104445e-06+/-3.4817007e-08, 2.0008648e-06+/-1.2049935e-08,\n",
      "       7.8639375e-07+/-4.6203322e-09, 3.3146904e-07+/-1.9062864e-09],\n",
      "      dtype=object), 'P_PLUS_K': array([0.029414681+/-0.00016576186, 0.0011170681+/-4.2910112e-06,\n",
      "       0.00017377771+/-6.5157433e-07, 4.4930904e-05+/-1.4775241e-07,\n",
      "       1.4930485e-05+/-4.4496754e-08, 5.767099e-06+/-1.5919381e-08,\n",
      "       2.4531312e-06+/-6.3706045e-09, 1.1157919e-06+/-2.7409542e-09],\n",
      "      dtype=object), 'RNLOG': array([-0.002174362+/-3.1345446e-05, -7.7689646e-05+/-1.9432754e-06,\n",
      "       -9.9472127e-06+/-2.0311267e-07, -2.0116495e-06+/-3.5696284e-08,\n",
      "       -5.2072331e-07+/-8.7746246e-09, -1.6210965e-07+/-1.9971823e-09,\n",
      "       -5.5458201e-08+/-9.4045928e-10, -2.0154761e-08+/-3.9732887e-10],\n",
      "      dtype=object), 'RNLOQ': array([0.0097501419+/-2.4417777e-05, 0.00026621965+/-6.1568973e-07,\n",
      "       2.9919662e-05+/-6.5509652e-08, 5.6986393e-06+/-1.187522e-08,\n",
      "       1.4389141e-06+/-2.8871619e-09, 4.3330739e-07+/-8.3701255e-10,\n",
      "       1.4707696e-07+/-2.7656597e-10, 5.4399032e-08+/-9.9166043e-11],\n",
      "      dtype=object), 'VNLO_PLUS_P_PLUS_K': array([0.039824801+/-0.00018537107823518736,\n",
      "       0.00158985702+/-5.469740507342322e-06,\n",
      "       0.000247842853+/-8.188103965593532e-07,\n",
      "       6.308083e-05+/-1.8823983184221398e-07,\n",
      "       2.05409295e-05+/-5.6499425598625026e-08,\n",
      "       7.767963799999999e-06+/-1.9965661144259312e-08,\n",
      "       3.23952495e-06+/-7.869693217259304e-09,\n",
      "       1.44726094e-06+/-3.3386760497722146e-09], dtype=object), 'RNLO': array([0.0075757799+/-3.973367361018416e-05,\n",
      "       0.000188530004+/-2.038478139169668e-06,\n",
      "       1.99724493e-05+/-2.1341572392794774e-07,\n",
      "       3.6869898e-06+/-3.761974935399033e-08,\n",
      "       9.1819079e-07+/-9.237409848422703e-09,\n",
      "       2.7119774e-07+/-2.1654854301728264e-09,\n",
      "       9.1618759e-08+/-9.802817927005271e-10,\n",
      "       3.4244271e-08+/-4.095169532751419e-10], dtype=object), 'RNLO_PLUS_VNLO_PLUS_P_PLUS_K': array([0.0474005809+/-0.00018958164854393633,\n",
      "       0.001778387024+/-5.837247154398559e-06,\n",
      "       0.00026781530230000005+/-8.461659037880073e-07,\n",
      "       6.67678198e-05+/-1.919621833420376e-07,\n",
      "       2.145912029e-05+/-5.724958369876851e-08,\n",
      "       8.03916154e-06+/-2.0082752602063216e-08,\n",
      "       3.3311437090000002e-06+/-7.930512198267981e-09,\n",
      "       1.481505211e-06+/-3.3636976529323134e-09], dtype=object), 'order': array([1, 1, 1, 1, 1, 1, 1, 1]), 'energy': array([13000, 13000, 13000, 13000, 13000, 13000, 13000, 13000]), 'energyhalf': array([6500., 6500., 6500., 6500., 6500., 6500., 6500., 6500.]), 'particle1': array([1000011, 1000011, 1000011, 1000011, 1000011, 1000011, 1000011,\n",
      "       1000011]), 'particle2': array([-1000011, -1000011, -1000011, -1000011, -1000011, -1000011,\n",
      "       -1000011, -1000011]), 'slha': array(['mastercode_with_gm2.in_mass_1000011_100.0',\n",
      "       'mastercode_with_gm2.in_mass_1000011_228.57142857142858',\n",
      "       'mastercode_with_gm2.in_mass_1000011_357.14285714285717',\n",
      "       'mastercode_with_gm2.in_mass_1000011_485.7142857142858',\n",
      "       'mastercode_with_gm2.in_mass_1000011_614.2857142857143',\n",
      "       'mastercode_with_gm2.in_mass_1000011_742.8571428571429',\n",
      "       'mastercode_with_gm2.in_mass_1000011_871.4285714285716',\n",
      "       'mastercode_with_gm2.in_mass_1000011_1000.0'], dtype='<U54'), 'pdf_lo': array(['cteq6l1', 'cteq6l1', 'cteq6l1', 'cteq6l1', 'cteq6l1', 'cteq6l1',\n",
      "       'cteq6l1', 'cteq6l1'], dtype='<U7'), 'pdfset_lo': array([0, 0, 0, 0, 0, 0, 0, 0]), 'pdf_nlo': array(['cteq66', 'cteq66', 'cteq66', 'cteq66', 'cteq66', 'cteq66',\n",
      "       'cteq66', 'cteq66'], dtype='<U6'), 'pdfset_nlo': array([0, 0, 0, 0, 0, 0, 0, 0]), 'pdf_lo_id': array([10042, 10042, 10042, 10042, 10042, 10042, 10042, 10042]), 'pdf_nlo_id': array([10550, 10550, 10550, 10550, 10550, 10550, 10550, 10550]), 'mu_f': array([1., 1., 1., 1., 1., 1., 1., 1.]), 'mu_r': array([1., 1., 1., 1., 1., 1., 1., 1.]), 'precision': array([0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01]), 'max_iters': array([50, 50, 50, 50, 50, 50, 50, 50]), 'invariant_mass': array(['auto', 'auto', 'auto', 'auto', 'auto', 'auto', 'auto', 'auto'],\n",
      "      dtype='<U4'), 'pt': array(['auto', 'auto', 'auto', 'auto', 'auto', 'auto', 'auto', 'auto'],\n",
      "      dtype='<U4'), 'result': array(['total', 'total', 'total', 'total', 'total', 'total', 'total',\n",
      "       'total'], dtype='<U5'), 'id': array(['5', '5', '5', '5', '5', '5', '5', '5'], dtype='<U1'), 'model_path': array(['/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO',\n",
      "       '/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO',\n",
      "       '/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO',\n",
      "       '/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO',\n",
      "       '/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO',\n",
      "       '/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO',\n",
      "       '/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO',\n",
      "       '/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO'], dtype='<U40'), 'mu': array([ 100.        ,  228.57142857,  357.14285714,  485.71428571,\n",
      "        614.28571429,  742.85714286,  871.42857143, 1000.        ]), 'mass_1000011': array([ 100.        ,  228.57142857,  357.14285714,  485.71428571,\n",
      "        614.28571429,  742.85714286,  871.42857143, 1000.        ]), 'code': array(['RS', 'RS', 'RS', 'RS', 'RS', 'RS', 'RS', 'RS'], dtype='<U2')}\n"
     ]
    }
   ],
   "source": [
    "for pa,pb in pss:\n",
    "    for param in params:\n",
    "        i = hepi.Input(hepi.Order.NLO,13000,pa,pb,param,\"cteq6l1\",\"cteq66\",1., 1.,id=\"5\")\n",
    "        #i = hepi.Input(hepi.Order.NLO,13000,pa,pb,param,\"CT14lo\",\"CT14lo\",1., 1.,model_path=model_path,id=\"5\")\n",
    "        li = [i]\n",
    "        li = hepi.mass_scan([i],pa, np.linspace(100,1000,8))\n",
    "        rs_dl = rs.run(li,noskip=False)\n",
    "        print(rs_dl)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "6ffe4795",
   "metadata": {},
   "source": [
    "## Pandas"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "7dedc960",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>LO</th>\n",
       "      <th>NLO</th>\n",
       "      <th>NLO_PLUS_NLL</th>\n",
       "      <th>K_LO</th>\n",
       "      <th>K_NLO</th>\n",
       "      <th>K_NLO_PLUS_NLL</th>\n",
       "      <th>NLO_PLUS_NLL_OVER_NLO</th>\n",
       "      <th>VNLO</th>\n",
       "      <th>P_PLUS_K</th>\n",
       "      <th>RNLOG</th>\n",
       "      <th>...</th>\n",
       "      <th>precision</th>\n",
       "      <th>max_iters</th>\n",
       "      <th>invariant_mass</th>\n",
       "      <th>pt</th>\n",
       "      <th>result</th>\n",
       "      <th>id</th>\n",
       "      <th>model_path</th>\n",
       "      <th>mu</th>\n",
       "      <th>mass_1000011</th>\n",
       "      <th>code</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.19828+/-0.00029</td>\n",
       "      <td>0.26266+/-0.00035</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>1.0+/-0</td>\n",
       "      <td>1.3247+/-0.0026</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>0.01041+/-0.00008</td>\n",
       "      <td>0.02941+/-0.00017</td>\n",
       "      <td>-0.002174+/-0.000031</td>\n",
       "      <td>...</td>\n",
       "      <td>0.01</td>\n",
       "      <td>50</td>\n",
       "      <td>auto</td>\n",
       "      <td>auto</td>\n",
       "      <td>total</td>\n",
       "      <td>5</td>\n",
       "      <td>/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO</td>\n",
       "      <td>100.000000</td>\n",
       "      <td>100.000000</td>\n",
       "      <td>RS</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.010273+/-0.000013</td>\n",
       "      <td>0.012686+/-0.000015</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>1.0+/-0</td>\n",
       "      <td>1.2348+/-0.0021</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>0.0004728+/-0.0000034</td>\n",
       "      <td>0.001117+/-0.000004</td>\n",
       "      <td>(-7.77+/-0.19)e-05</td>\n",
       "      <td>...</td>\n",
       "      <td>0.01</td>\n",
       "      <td>50</td>\n",
       "      <td>auto</td>\n",
       "      <td>auto</td>\n",
       "      <td>total</td>\n",
       "      <td>5</td>\n",
       "      <td>/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO</td>\n",
       "      <td>228.571429</td>\n",
       "      <td>228.571429</td>\n",
       "      <td>RS</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.0017420+/-0.0000021</td>\n",
       "      <td>0.0020719+/-0.0000023</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>1.00000000000000000000+/-0.00000000000000000023</td>\n",
       "      <td>1.1894+/-0.0019</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>(7.41+/-0.05)e-05</td>\n",
       "      <td>0.0001738+/-0.0000007</td>\n",
       "      <td>(-9.95+/-0.20)e-06</td>\n",
       "      <td>...</td>\n",
       "      <td>0.01</td>\n",
       "      <td>50</td>\n",
       "      <td>auto</td>\n",
       "      <td>auto</td>\n",
       "      <td>total</td>\n",
       "      <td>5</td>\n",
       "      <td>/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO</td>\n",
       "      <td>357.142857</td>\n",
       "      <td>357.142857</td>\n",
       "      <td>RS</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.0004518+/-0.0000005</td>\n",
       "      <td>0.0005239+/-0.0000005</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>1.0+/-0</td>\n",
       "      <td>1.1596+/-0.0018</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>(1.815+/-0.012)e-05</td>\n",
       "      <td>(4.493+/-0.015)e-05</td>\n",
       "      <td>(-2.01+/-0.04)e-06</td>\n",
       "      <td>...</td>\n",
       "      <td>0.01</td>\n",
       "      <td>50</td>\n",
       "      <td>auto</td>\n",
       "      <td>auto</td>\n",
       "      <td>total</td>\n",
       "      <td>5</td>\n",
       "      <td>/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO</td>\n",
       "      <td>485.714286</td>\n",
       "      <td>485.714286</td>\n",
       "      <td>RS</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.00014601+/-0.00000016</td>\n",
       "      <td>0.00016620+/-0.00000016</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>1.00000000000000000000+/-0.00000000000000000014</td>\n",
       "      <td>1.1383+/-0.0017</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>(5.610+/-0.035)e-06</td>\n",
       "      <td>(1.493+/-0.004)e-05</td>\n",
       "      <td>(-5.21+/-0.09)e-07</td>\n",
       "      <td>...</td>\n",
       "      <td>0.01</td>\n",
       "      <td>50</td>\n",
       "      <td>auto</td>\n",
       "      <td>auto</td>\n",
       "      <td>total</td>\n",
       "      <td>5</td>\n",
       "      <td>/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO</td>\n",
       "      <td>614.285714</td>\n",
       "      <td>614.285714</td>\n",
       "      <td>RS</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>(5.395+/-0.006)e-05</td>\n",
       "      <td>(6.060+/-0.006)e-05</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>1.0+/-0</td>\n",
       "      <td>1.1233+/-0.0016</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>(2.001+/-0.012)e-06</td>\n",
       "      <td>(5.767+/-0.016)e-06</td>\n",
       "      <td>(-1.621+/-0.020)e-07</td>\n",
       "      <td>...</td>\n",
       "      <td>0.01</td>\n",
       "      <td>50</td>\n",
       "      <td>auto</td>\n",
       "      <td>auto</td>\n",
       "      <td>total</td>\n",
       "      <td>5</td>\n",
       "      <td>/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO</td>\n",
       "      <td>742.857143</td>\n",
       "      <td>742.857143</td>\n",
       "      <td>RS</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>(2.1798+/-0.0022)e-05</td>\n",
       "      <td>(2.4274+/-0.0022)e-05</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>1.0+/-0</td>\n",
       "      <td>1.1136+/-0.0015</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>(7.86+/-0.05)e-07</td>\n",
       "      <td>(2.453+/-0.006)e-06</td>\n",
       "      <td>(-5.55+/-0.09)e-08</td>\n",
       "      <td>...</td>\n",
       "      <td>0.01</td>\n",
       "      <td>50</td>\n",
       "      <td>auto</td>\n",
       "      <td>auto</td>\n",
       "      <td>total</td>\n",
       "      <td>5</td>\n",
       "      <td>/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO</td>\n",
       "      <td>871.428571</td>\n",
       "      <td>871.428571</td>\n",
       "      <td>RS</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>(9.381+/-0.009)e-06</td>\n",
       "      <td>(1.0401+/-0.0009)e-05</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>1.0+/-0</td>\n",
       "      <td>1.1088+/-0.0015</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>0.0+/-0</td>\n",
       "      <td>(3.315+/-0.019)e-07</td>\n",
       "      <td>(1.1158+/-0.0027)e-06</td>\n",
       "      <td>(-2.02+/-0.04)e-08</td>\n",
       "      <td>...</td>\n",
       "      <td>0.01</td>\n",
       "      <td>50</td>\n",
       "      <td>auto</td>\n",
       "      <td>auto</td>\n",
       "      <td>total</td>\n",
       "      <td>5</td>\n",
       "      <td>/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO</td>\n",
       "      <td>1000.000000</td>\n",
       "      <td>1000.000000</td>\n",
       "      <td>RS</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>8 rows × 38 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                        LO                      NLO NLO_PLUS_NLL  \\\n",
       "0        0.19828+/-0.00029        0.26266+/-0.00035      0.0+/-0   \n",
       "1      0.010273+/-0.000013      0.012686+/-0.000015      0.0+/-0   \n",
       "2    0.0017420+/-0.0000021    0.0020719+/-0.0000023      0.0+/-0   \n",
       "3    0.0004518+/-0.0000005    0.0005239+/-0.0000005      0.0+/-0   \n",
       "4  0.00014601+/-0.00000016  0.00016620+/-0.00000016      0.0+/-0   \n",
       "5      (5.395+/-0.006)e-05      (6.060+/-0.006)e-05      0.0+/-0   \n",
       "6    (2.1798+/-0.0022)e-05    (2.4274+/-0.0022)e-05      0.0+/-0   \n",
       "7      (9.381+/-0.009)e-06    (1.0401+/-0.0009)e-05      0.0+/-0   \n",
       "\n",
       "                                              K_LO            K_NLO  \\\n",
       "0                                          1.0+/-0  1.3247+/-0.0026   \n",
       "1                                          1.0+/-0  1.2348+/-0.0021   \n",
       "2  1.00000000000000000000+/-0.00000000000000000023  1.1894+/-0.0019   \n",
       "3                                          1.0+/-0  1.1596+/-0.0018   \n",
       "4  1.00000000000000000000+/-0.00000000000000000014  1.1383+/-0.0017   \n",
       "5                                          1.0+/-0  1.1233+/-0.0016   \n",
       "6                                          1.0+/-0  1.1136+/-0.0015   \n",
       "7                                          1.0+/-0  1.1088+/-0.0015   \n",
       "\n",
       "  K_NLO_PLUS_NLL NLO_PLUS_NLL_OVER_NLO                   VNLO  \\\n",
       "0        0.0+/-0               0.0+/-0      0.01041+/-0.00008   \n",
       "1        0.0+/-0               0.0+/-0  0.0004728+/-0.0000034   \n",
       "2        0.0+/-0               0.0+/-0      (7.41+/-0.05)e-05   \n",
       "3        0.0+/-0               0.0+/-0    (1.815+/-0.012)e-05   \n",
       "4        0.0+/-0               0.0+/-0    (5.610+/-0.035)e-06   \n",
       "5        0.0+/-0               0.0+/-0    (2.001+/-0.012)e-06   \n",
       "6        0.0+/-0               0.0+/-0      (7.86+/-0.05)e-07   \n",
       "7        0.0+/-0               0.0+/-0    (3.315+/-0.019)e-07   \n",
       "\n",
       "                P_PLUS_K                 RNLOG  ... precision max_iters  \\\n",
       "0      0.02941+/-0.00017  -0.002174+/-0.000031  ...      0.01        50   \n",
       "1    0.001117+/-0.000004    (-7.77+/-0.19)e-05  ...      0.01        50   \n",
       "2  0.0001738+/-0.0000007    (-9.95+/-0.20)e-06  ...      0.01        50   \n",
       "3    (4.493+/-0.015)e-05    (-2.01+/-0.04)e-06  ...      0.01        50   \n",
       "4    (1.493+/-0.004)e-05    (-5.21+/-0.09)e-07  ...      0.01        50   \n",
       "5    (5.767+/-0.016)e-06  (-1.621+/-0.020)e-07  ...      0.01        50   \n",
       "6    (2.453+/-0.006)e-06    (-5.55+/-0.09)e-08  ...      0.01        50   \n",
       "7  (1.1158+/-0.0027)e-06    (-2.02+/-0.04)e-08  ...      0.01        50   \n",
       "\n",
       "  invariant_mass    pt  result  id                                model_path  \\\n",
       "0           auto  auto   total   5  /opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO   \n",
       "1           auto  auto   total   5  /opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO   \n",
       "2           auto  auto   total   5  /opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO   \n",
       "3           auto  auto   total   5  /opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO   \n",
       "4           auto  auto   total   5  /opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO   \n",
       "5           auto  auto   total   5  /opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO   \n",
       "6           auto  auto   total   5  /opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO   \n",
       "7           auto  auto   total   5  /opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO   \n",
       "\n",
       "            mu  mass_1000011 code  \n",
       "0   100.000000    100.000000   RS  \n",
       "1   228.571429    228.571429   RS  \n",
       "2   357.142857    357.142857   RS  \n",
       "3   485.714286    485.714286   RS  \n",
       "4   614.285714    614.285714   RS  \n",
       "5   742.857143    742.857143   RS  \n",
       "6   871.428571    871.428571   RS  \n",
       "7  1000.000000   1000.000000   RS  \n",
       "\n",
       "[8 rows x 38 columns]"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "hepi.LD2DF(rs_dl)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "db0d183d",
   "metadata": {},
   "source": [
    "## CSV"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "a74a3e82",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "LO,NLO,NLO_PLUS_NLL,K_LO,K_NLO,K_NLO_PLUS_NLL,NLO_PLUS_NLL_OVER_NLO,VNLO,P_PLUS_K,RNLOG,RNLOQ,VNLO_PLUS_P_PLUS_K,RNLO,RNLO_PLUS_VNLO_PLUS_P_PLUS_K,order,energy,energyhalf,particle1,particle2,slha,pdf_lo,pdfset_lo,pdf_nlo,pdfset_nlo,pdf_lo_id,pdf_nlo_id,mu_f,mu_r,precision,max_iters,invariant_mass,pt,result,id,model_path,mu,mass_1000011,code\n",
      "0.19828+/-0.00029,0.26266+/-0.00035,0.0+/-0,1.0+/-0,1.3247+/-0.0026,0.0+/-0,0.0+/-0,0.01041+/-0.00008,0.02941+/-0.00017,-0.002174+/-0.000031,0.009750+/-0.000024,0.03982+/-0.00019,0.00758+/-0.00004,0.04740+/-0.00019,1,13000,6500.0,1000011,-1000011,mastercode_with_gm2.in_mass_1000011_100.0,cteq6l1,0,cteq66,0,10042,10550,1.0,1.0,0.01,50,auto,auto,total,5,/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO,100.0,100.0,RS\n",
      "0.010273+/-0.000013,0.012686+/-0.000015,0.0+/-0,1.0+/-0,1.2348+/-0.0021,0.0+/-0,0.0+/-0,0.0004728+/-0.0000034,0.001117+/-0.000004,(-7.77+/-0.19)e-05,0.0002662+/-0.0000006,0.001590+/-0.000005,0.0001885+/-0.0000020,0.001778+/-0.000006,1,13000,6500.0,1000011,-1000011,mastercode_with_gm2.in_mass_1000011_228.57142857142858,cteq6l1,0,cteq66,0,10042,10550,1.0,1.0,0.01,50,auto,auto,total,5,/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO,228.57142857142858,228.57142857142858,RS\n",
      "0.0017420+/-0.0000021,0.0020719+/-0.0000023,0.0+/-0,1.00000000000000000000+/-0.00000000000000000023,1.1894+/-0.0019,0.0+/-0,0.0+/-0,(7.41+/-0.05)e-05,0.0001738+/-0.0000007,(-9.95+/-0.20)e-06,(2.992+/-0.007)e-05,0.0002478+/-0.0000008,(1.997+/-0.021)e-05,0.0002678+/-0.0000008,1,13000,6500.0,1000011,-1000011,mastercode_with_gm2.in_mass_1000011_357.14285714285717,cteq6l1,0,cteq66,0,10042,10550,1.0,1.0,0.01,50,auto,auto,total,5,/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO,357.14285714285717,357.14285714285717,RS\n",
      "0.0004518+/-0.0000005,0.0005239+/-0.0000005,0.0+/-0,1.0+/-0,1.1596+/-0.0018,0.0+/-0,0.0+/-0,(1.815+/-0.012)e-05,(4.493+/-0.015)e-05,(-2.01+/-0.04)e-06,(5.699+/-0.012)e-06,(6.308+/-0.019)e-05,(3.69+/-0.04)e-06,(6.677+/-0.019)e-05,1,13000,6500.0,1000011,-1000011,mastercode_with_gm2.in_mass_1000011_485.7142857142858,cteq6l1,0,cteq66,0,10042,10550,1.0,1.0,0.01,50,auto,auto,total,5,/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO,485.7142857142858,485.7142857142858,RS\n",
      "0.00014601+/-0.00000016,0.00016620+/-0.00000016,0.0+/-0,1.00000000000000000000+/-0.00000000000000000014,1.1383+/-0.0017,0.0+/-0,0.0+/-0,(5.610+/-0.035)e-06,(1.493+/-0.004)e-05,(-5.21+/-0.09)e-07,(1.4389+/-0.0029)e-06,(2.054+/-0.006)e-05,(9.18+/-0.09)e-07,(2.146+/-0.006)e-05,1,13000,6500.0,1000011,-1000011,mastercode_with_gm2.in_mass_1000011_614.2857142857143,cteq6l1,0,cteq66,0,10042,10550,1.0,1.0,0.01,50,auto,auto,total,5,/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO,614.2857142857143,614.2857142857143,RS\n",
      "(5.395+/-0.006)e-05,(6.060+/-0.006)e-05,0.0+/-0,1.0+/-0,1.1233+/-0.0016,0.0+/-0,0.0+/-0,(2.001+/-0.012)e-06,(5.767+/-0.016)e-06,(-1.621+/-0.020)e-07,(4.333+/-0.008)e-07,(7.768+/-0.020)e-06,(2.712+/-0.022)e-07,(8.039+/-0.020)e-06,1,13000,6500.0,1000011,-1000011,mastercode_with_gm2.in_mass_1000011_742.8571428571429,cteq6l1,0,cteq66,0,10042,10550,1.0,1.0,0.01,50,auto,auto,total,5,/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO,742.8571428571429,742.8571428571429,RS\n",
      "(2.1798+/-0.0022)e-05,(2.4274+/-0.0022)e-05,0.0+/-0,1.0+/-0,1.1136+/-0.0015,0.0+/-0,0.0+/-0,(7.86+/-0.05)e-07,(2.453+/-0.006)e-06,(-5.55+/-0.09)e-08,(1.4708+/-0.0028)e-07,(3.240+/-0.008)e-06,(9.16+/-0.10)e-08,(3.331+/-0.008)e-06,1,13000,6500.0,1000011,-1000011,mastercode_with_gm2.in_mass_1000011_871.4285714285716,cteq6l1,0,cteq66,0,10042,10550,1.0,1.0,0.01,50,auto,auto,total,5,/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO,871.4285714285716,871.4285714285716,RS\n",
      "(9.381+/-0.009)e-06,(1.0401+/-0.0009)e-05,0.0+/-0,1.0+/-0,1.1088+/-0.0015,0.0+/-0,0.0+/-0,(3.315+/-0.019)e-07,(1.1158+/-0.0027)e-06,(-2.02+/-0.04)e-08,(5.440+/-0.010)e-08,(1.4473+/-0.0033)e-06,(3.42+/-0.04)e-08,(1.4815+/-0.0034)e-06,1,13000,6500.0,1000011,-1000011,mastercode_with_gm2.in_mass_1000011_1000.0,cteq6l1,0,cteq66,0,10042,10550,1.0,1.0,0.01,50,auto,auto,total,5,/opt/MG5_aMC_v2_7_0/models/MSSMatNLO_UFO,1000.0,1000.0,RS\n",
      "\n"
     ]
    }
   ],
   "source": [
    "hepi.write_csv(rs_dl,\"out.csv\")\n",
    "print(open('out.csv','r').read())"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8c245911",
   "metadata": {},
   "source": [
    "## JSON"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "949b48eb",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "{\"initial state\": \"pp\", \"order\": \"NLO\", \"source\": \"HEPi\", \"contact\": \"?\", \"tool\": \"RS\", \"process_latex\": \"$\\\\tilde{e}_{L}^{-}\\\\tilde{e}_{L}^{+}$\", \"comment\": \"?\", \"reference\": \"?\", \"Ecom [GeV]\": \"13000\", \"process_id\": \"pp_13000_1000011_-1000011\", \"PDF set\": \"cteq66\", \"data\": {\"100.0\": {\"xsec_pb\": 0.26266219, \"unc_pb\": 0.00035483454}, \"228.57142857142858\": {\"xsec_pb\": 0.012685717, \"unc_pb\": 1.4738104e-05}, \"357.14285714285717\": {\"xsec_pb\": 0.0020719289, \"unc_pb\": 2.2534652e-06}, \"485.7142857142858\": {\"xsec_pb\": 0.00052389967, \"unc_pb\": 5.389595e-07}, \"614.2857142857143\": {\"xsec_pb\": 0.00016619981, \"unc_pb\": 1.6377336e-07}, \"742.8571428571429\": {\"xsec_pb\": 6.0600809e-05, \"unc_pb\": 5.7603335e-08}, \"871.4285714285716\": {\"xsec_pb\": 2.427351e-05, \"unc_pb\": 2.2387002e-08}, \"1000.0\": {\"xsec_pb\": 1.0401314e-05, \"unc_pb\": 9.3348503e-09}}, \"parameters\": \"?\"}\n"
     ]
    }
   ],
   "source": [
    "hepi.write_json(rs_dl,hepi.Order.NLO,\"mass_1000011\",\"out.json\",error_sym=True)\n",
    "print(open('out.json','r').read())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "bde9afca",
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "19e4273a",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.13"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
